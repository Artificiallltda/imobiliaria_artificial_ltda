@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
@import './styles/tokens.css';

/* =========================
   THEME (CSS VARIABLES)
   (base light - depois você liga o dark via classe ou data-theme)
========================= */
:root{
  --bg: linear-gradient(180deg, #f4f6fb 0%, #eef2f7 100%);
  --surface: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
  --border: #e2e8f0;
  --primary: #2563eb;
  --sidebarBg: var(--gradient-surface);
  --headerBg: #ffffff;
}

/* =========================
   RESET
========================= */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  min-height: 100%;
}

body {
  font-family: var(--font-family-sans);
  min-height: 100vh;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* =========================
   APP
========================= */
.app {
  display: flex;
  min-height: 100vh;
  background: var(--color-gray-0);
  max-width: 1400px;
  margin: 24px auto;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--color-gray-200);
  box-shadow: var(--shadow-lg);
}

/* =========================
   SIDEBAR ESQUERDA
========================= */
.sidebar {
  width: 220px;
  background: var(--sidebarBg);
  padding: 24px 16px;
  display: flex;
  flex-direction: column;
  border-right: 1px solid var(--color-gray-200);
}

.logo {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 32px;
  color: var(--color-gray-800);
  letter-spacing: -0.01em;
}

.nav-section {
  margin-bottom: 24px;
}

.nav-label {
  font-size: 0.7rem;
  color: var(--color-gray-500);
  letter-spacing: 0.05em;
  display: block;
  margin-bottom: 12px;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  color: var(--color-gray-700);
  text-decoration: none;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: 500;
  margin-bottom: 4px;
  border: 1px solid transparent;
  transition: background 0.2s, color 0.2s, border-color 0.2s, box-shadow 0.2s;
}

.nav-item:hover {
  background: #f1f5f9;
  border-color: #e2e8f0;
  color: var(--color-gray-800);
}

.nav-item.active {
  background: linear-gradient(135deg, var(--color-primary-600), var(--color-primary-500));
  color: var(--color-gray-0);
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 10px 22px rgba(37, 99, 235, 0.25);
}

.nav-icon {
  width: 20px;
  height: 20px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0.85;
}

.nav-icon svg,
.icon-btn svg {
  width: 18px;
  height: 18px;
}

.nav-logout {
  margin-top: auto;
  color: var(--color-gray-600);
}

/* =========================
   MAIN WRAPPER
========================= */
.main-wrapper {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-width: 0;
  background: var(--color-gray-50);
}

/* =========================
   HEADER
========================= */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  padding: 18px 32px;
  border-bottom: 1px solid var(--color-gray-200);
  background: var(--headerBg);
  background-image:
    radial-gradient(circle at 15% 20%, rgba(59, 91, 219, 0.08), transparent 42%),
    radial-gradient(circle at 80% 0%, rgba(20, 184, 166, 0.1), transparent 45%);
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.05);
}

.header-brand {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
}

.brand-mark {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: var(--gradient-primary);
  color: var(--color-gray-0);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  letter-spacing: -0.02em;
  box-shadow: 0 10px 22px rgba(47, 73, 184, 0.25);
}

.brand-title {
  display: block;
  font-size: 1rem;
  font-weight: 700;
  color: var(--color-gray-900);
  letter-spacing: -0.01em;
}

.brand-tagline {
  display: block;
  font-size: 0.8rem;
  color: var(--color-gray-600);
}

.header-user strong {
  display: block;
  font-size: 1rem;
}

.header-greeting {
  font-size: 0.85rem;
  color: var(--color-gray-600);
}

.header-stats {
  display: flex;
  gap: 24px;
  font-size: 0.9rem;
  color: var(--color-gray-700);
}

.header-stats span {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  padding: 6px 12px;
  border-radius: 999px;
  font-weight: 600;
  color: #1f2937;
  box-shadow: var(--shadow-sm);
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.icon-btn {
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  padding: 4px;
  border-radius: 8px;
  color: var(--color-gray-600);
  transition: background 0.2s, color 0.2s;
}

.icon-btn:hover {
  background: var(--color-gray-100);
  color: var(--color-gray-800);
}

.avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--color-primary-600);
  color: var(--color-gray-0);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  box-shadow: 0 6px 16px rgba(37, 99, 235, 0.3);
}

.btn-primary {
  background: var(--gradient-primary);
  color: var(--color-gray-0);
  border: none;
  padding: 10px 18px;
  border-radius: 10px;
  font-size: 0.9rem;
  cursor: pointer;
  font-weight: 600;
  box-shadow: 0 10px 22px rgba(47, 73, 184, 0.25);
  transition: transform 0.2s, box-shadow 0.2s, filter 0.2s;
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 14px 28px rgba(37, 99, 235, 0.28);
  filter: brightness(1.02);
}

.btn-primary:active {
  transform: translateY(0);
}

.btn-outline {
  background: var(--color-gray-0);
  color: var(--color-primary-700);
  border: 1px solid var(--color-primary-200);
  padding: 10px 18px;
  border-radius: 10px;
  font-size: 0.9rem;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.2s, border-color 0.2s, color 0.2s;
}

.btn-outline:hover {
  background: var(--color-primary-50);
  border-color: var(--color-primary-300);
}

/* =========================
   CONTENT AREA
========================= */
.content-area {
  display: flex;
  flex: 1;
  overflow: auto;
}

/* =========================
   MAIN CONTENT
========================= */
.main-content {
  flex: 1;
  padding: 24px 32px;
  overflow-y: auto;
  min-width: 0;
}

.search-section {
  margin-bottom: 24px;
  background: var(--color-gray-0);
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  padding: 20px;
  box-shadow: var(--shadow-md);
}

.search-section h2,
.listings-section h2 {
  font-size: 1.25rem;
  margin-bottom: 16px;
  color: var(--color-gray-800);
}

.listings-section {
  background: var(--color-gray-0);
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  padding: 20px;
  box-shadow: var(--shadow-md);
}

.search-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.search-grid input,
.search-grid select {
  padding: 10px 12px;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  font-size: 0.9rem;
  background: #ffffff;
  transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
}

.search-grid input:focus,
.search-grid select:focus {
  outline: none;
  border-color: var(--color-primary-400);
  box-shadow: var(--shadow-focus);
}

.btn-search {
  grid-column: span 1;
}

.listings-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.results-count {
  font-size: 0.9rem;
  color: var(--color-gray-600);
}

.btn-filter {
  margin-left: auto;
  background: var(--color-gray-0);
  border: 1px solid #e2e8f0;
  padding: 10px 16px;
  border-radius: 10px;
  font-size: 0.9rem;
  cursor: pointer;
  color: var(--color-gray-700);
  box-shadow: var(--shadow-sm);
  transition: border-color 0.2s, box-shadow 0.2s, color 0.2s;
}

.btn-filter:hover {
  border-color: #cbd5f5;
  color: var(--color-gray-900);
  box-shadow: var(--shadow-md);
}

.property-cards {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.property-card {
  display: flex;
  background: var(--color-gray-0);
  border: 1px solid #e2e8f0;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: transform 0.25s, box-shadow 0.25s, border-color 0.25s;
}

.property-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-lg);
  border-color: rgba(37, 99, 235, 0.2);
}

.card-image {
  position: relative;
  width: 180px;
  min-width: 180px;
}

.img-placeholder {
  width: 100%;
  height: 100%;
  min-height: 140px;
  background: linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 100%);
}

.img-placeholder.large {
  min-height: 160px;
}

.badge {
  position: absolute;
  bottom: 8px;
  left: 8px;
  background: var(--color-success-500);
  color: var(--color-gray-0);
  font-size: 0.75rem;
  padding: 4px 8px;
  border-radius: 999px;
  box-shadow: 0 8px 18px rgba(34, 197, 94, 0.35);
}

.card-content {
  flex: 1;
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.card-content h3 {
  font-size: 1rem;
  font-weight: 600;
}

.card-location,
.card-details {
  font-size: 0.85rem;
  color: var(--color-gray-600);
}

.card-price {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-primary-600);
}

.card-desc {
  font-size: 0.85rem;
  color: var(--color-gray-700);
  margin-top: 4px;
}

.card-actions {
  display: flex;
  gap: 12px;
  margin-top: auto;
  padding-top: 12px;
}

/* =========================
   RIGHT SIDEBAR
========================= */
.right-sidebar {
  width: 280px;
  min-width: 280px;
  padding: 24px;
  border-left: 1px solid var(--color-gray-200);
  background: var(--gradient-surface);
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.right-sidebar h2 {
  font-size: 1rem;
  color: var(--color-gray-800);
}

.featured-card {
  position: relative;
  background: var(--color-gray-0);
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid #e2e8f0;
  padding: 12px;
  box-shadow: var(--shadow-md);
}

.featured-card .img-placeholder {
  border-radius: 8px;
  margin-bottom: 12px;
}

.featured-card .badge {
  top: 20px;
  right: 20px;
  left: auto;
  bottom: auto;
}

.contact-card {
  background: var(--color-gray-0);
  border-radius: 14px;
  border: 1px solid #e2e8f0;
  padding: 16px;
  box-shadow: var(--shadow-md);
}

.contact-card p {
  font-size: 0.9rem;
  color: var(--color-gray-700);
  margin-bottom: 8px;
}

.contact-card .btn-primary {
  width: 100%;
  margin-top: 12px;
}

/* =========================
   DASHBOARD (CARDS + GRID)
========================= */
.dashboard-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.dashboard-meta {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 10px;
}

.meta-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  height: 34px;
  padding: 0 12px;
  border-radius: 999px;
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  color: #475569;
  font-size: 0.85rem;
  font-weight: 600;
  box-shadow: var(--shadow-sm);
}

.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 14px;
}

.stat-card {
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 14px;
  padding: 14px;
  box-shadow: var(--shadow-sm);
  min-width: 0;
}

.stat-top {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.stat-icon {
  width: 38px;
  height: 38px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  background: #eff6ff;
  border: 1px solid #dbeafe;
}

.stat-label {
  font-size: 0.86rem;
  color: #475569;
  font-weight: 700;
  line-height: 1.2;
}

.stat-value {
  font-size: 1.65rem;
  font-weight: 800;
  color: #0f172a;
  letter-spacing: -0.02em;
}

.stat-foot {
  margin-top: 8px;
  font-size: 0.8rem;
  color: #94a3b8;
}

.stat-primary .stat-icon { background: #eff6ff; border-color: #dbeafe; }
.stat-success .stat-icon { background: #ecfdf5; border-color: #bbf7d0; }
.stat-warning .stat-icon { background: #fffbeb; border-color: #fde68a; }
.stat-info .stat-icon    { background: #eef2ff; border-color: #c7d2fe; }
.stat-neutral .stat-icon { background: #f1f5f9; border-color: #e2e8f0; }

.dashboard-list {
  margin-top: 12px;
  padding-left: 18px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  color: #475569;
  font-size: 0.95rem;
}

/* =========================
   LEADS (BUSCA + FILTRO + LISTA)
========================= */
.leads-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.leads-controls {
  display: grid;
  grid-template-columns: 1fr 220px 120px;
  gap: 12px;
  align-items: end;
}

.control {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.control label {
  font-size: 0.78rem;
  color: #475569;
  font-weight: 800;
}

.leads-input,
.leads-select {
  height: 42px;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  padding: 0 12px;
  background: #fff;
  color: #0f172a;
  outline: none;
}

.leads-input:focus,
.leads-select:focus {
  border-color: #2563eb;
  box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.14);
}

.leads-clear {
  height: 42px;
}

/* Tabela */
.leads-table-wrap { padding: 0; }

.leads-table-scroll {
  overflow: auto;
  border-radius: 14px;
}

.leads-html[data-theme] .table {
  width: 100%;
  border-collapse: collapse;
  background: var(--card-bg);
}

html[data-theme] .table th,
html[data-theme] .table td {
  padding: 12px 8px;
  text-align: left;
  border-bottom: 1px solid var(--border);
}

html[data-theme] .table th {
  background: var(--table-header-bg);
  font-weight: 600;
  color: var(--text);
  position: sticky;
  top: 0;
}

html[data-theme] .titleCell strong {
  display: block;
  margin-bottom: 4px;
  color: var(--text);
}

html[data-theme] .titleCell small {
  color: var(--text-secondary-color);
  font-size: 12px;
}

html[data-theme] .priceCell {
  font-weight: 600;
  color: var(--success-color);
  white-space: nowrap;
}

html[data-theme] .status {
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
}

html[data-theme] .status.AVAILABLE {
  background: var(--status-disponivel-bg);
  color: var(--status-disponivel-text);
}

html[data-theme] .status.SOLD {
  background: var(--status-vendido-bg);
  color: var(--status-vendido-text);
}

html[data-theme] .status.RESERVED {
  background: var(--status-reservado-bg);
  color: var(--status-reservado-text);
}

.leads-empty {
  padding: 20px 16px;
  color: #64748b;
}

.lead-primary {
  font-weight: 900;
  color: #0f172a;
}

.lead-secondary {
  margin-top: 3px;
  font-size: 0.82rem;
  color: #64748b;
}

/* Status tag (versão única - sem duplicar) */
.status-tag {
  display: inline-flex;
  align-items: center;
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 900;
  border: 1px solid transparent;
  text-transform: uppercase;
}

.status-novo { background: #e0f2fe; color: #0369a1; border-color: #bae6fd; }
.status-contato { background: #fef3c7; color: #92400e; border-color: #fde68a; }
.status-convertido { background: #dcfce7; color: #166534; border-color: #bbf7d0; }
.status-perdido { background: #fee2e2; color: #991b1b; border-color: #fecaca; }

/* Mobile: cards */
.leads-cards {
  display: none;
  gap: 12px;
}

.lead-card {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 14px;
  box-shadow: 0 1px 10px rgba(15, 23, 42, 0.06);
}

.lead-card-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.lead-card-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 6px 0;
  border-top: 1px dashed #eef2f6;
}

.lead-k {
  color: #64748b;
  font-weight: 800;
  font-size: 0.82rem;
}

.lead-v {
  color: #0f172a;
  font-weight: 700;
  font-size: 0.9rem;
  text-align: right;
}

/* =========================
   FAVORITES
========================= */
.favorites-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
  margin-bottom: 16px;
}

.favorites-header h2 {
  font-size: 1.35rem;
  letter-spacing: -0.01em;
  color: var(--color-gray-900);
}

.results-pill {
  display: inline-flex;
  align-items: center;
  height: 32px;
  padding: 0 12px;
  border-radius: 999px;
  background: var(--color-primary-50);
  color: var(--color-primary-700);
  font-weight: 700;
  font-size: 0.85rem;
  border: 1px solid var(--color-primary-200);
  box-shadow: var(--shadow-sm);
}

.favorites-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
}

.fav-card {
  padding: 0;
  overflow: hidden;
  border-radius: 14px;
  border: 1px solid #e2e8f0;
  box-shadow: var(--shadow-sm);
  transition: transform 0.25s, box-shadow 0.25s, border-color 0.25s;
}

.fav-card:hover {
  transform: translateY(-2px);
  border-color: rgba(47, 73, 184, 0.18);
  box-shadow: var(--shadow-lg);
}

.fav-cover {
  position: relative;
  height: 150px;
  background: linear-gradient(135deg, #eef2ff 0%, #e2e8f0 100%);
}

.fav-cover-placeholder {
  width: 100%;
  height: 100%;
  background:
    radial-gradient(circle at 20% 20%, rgba(59, 91, 219, 0.18), transparent 50%),
    radial-gradient(circle at 80% 0%, rgba(20, 184, 166, 0.2), transparent 45%),
    linear-gradient(135deg, #eef2ff 0%, #e2e8f0 100%);
}

.fav-badge {
  position: absolute;
  top: 12px;
  left: 12px;
}

.fav-content { padding: 14px; }

.fav-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}

.fav-title {
  font-weight: 950;
  color: #0f172a;
  font-size: 0.98rem;
}

.fav-sub {
  margin-top: 4px;
  color: #64748b;
  font-size: 0.85rem;
}

.fav-id {
  font-size: 0.75rem;
  color: #64748b;
  font-weight: 800;
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  padding: 4px 8px;
  border-radius: 999px;
  white-space: nowrap;
}

.fav-price {
  margin-top: 10px;
  font-weight: 950;
  color: var(--color-primary-600);
  font-size: 1.1rem;
}

.fav-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 12px;
}

.favorites-empty { padding: 18px; }
.favorites-empty h3 { font-size: 1rem; color: #0f172a; }
.favorites-empty-actions { margin-top: 12px; }

.favorites-modal-card {
  margin-top: 10px;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  background: #f8fafc;
}

/* =========================
   MESSAGES (LISTA + CHAT)
========================= */
.messages-page {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 14px;
  height: calc(100vh - 120px);
  min-height: 520px;
}

.messages-list,
.messages-chat {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  box-shadow: 0 1px 10px rgba(15, 23, 42, 0.06);
  overflow: hidden;
  min-width: 0;
}

.messages-list-header {
  padding: 14px 14px 10px;
  border-bottom: 1px solid #eef2f6;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}

.messages-list-body {
  overflow: auto;
  height: 100%;
}

.conv-item {
  width: 100%;
  text-align: left;
  border: none;
  background: transparent;
  padding: 12px 14px;
  border-bottom: 1px solid #f1f5f9;
  cursor: pointer;
}

.conv-item:hover { background: #f8fafc; }
.conv-item--active { background: #eff6ff; }
.conv-item--archived { opacity: 0.7; }

.conv-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.conv-name {
  font-weight: 900;
  color: #0f172a;
  font-size: 0.95rem;
}

.conv-sub {
  margin-top: 4px;
  color: #64748b;
  font-size: 0.82rem;
}

.conv-bottom {
  margin-top: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.conv-preview {
  color: #334155;
  font-size: 0.86rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.conv-unread {
  min-width: 22px;
  height: 22px;
  border-radius: 999px;
  background: #2563eb;
  color: #fff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 900;
}

.conv-status,
.chat-status {
  display: inline-flex;
  align-items: center;
  height: 26px;
  padding: 0 10px;
  border-radius: 999px;
  font-size: 0.78rem;
  font-weight: 900;
  border: 1px solid transparent;
  white-space: nowrap;
}

.status-ativa {
  background: #ecfdf5;
  color: #047857;
  border-color: #bbf7d0;
}

.status-arquivada {
  background: #f1f5f9;
  color: #475569;
  border-color: #e2e8f0;
}

.status-nao-lida,
.status-não-lida {
  background: #eff6ff;
  color: #1d4ed8;
  border-color: #dbeafe;
}

/* CHAT */
.chat-shell {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.chat-header {
  padding: 14px 16px;
  border-bottom: 1px solid #eef2f6;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.chat-title {
  font-weight: 950;
  color: #0f172a;
  font-size: 1rem;
}

.chat-subtitle {
  margin-top: 4px;
  color: #64748b;
  font-size: 0.82rem;
}

.chat-header-actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.chat-body {
  flex: 1;
  overflow: auto;
  padding: 14px;
  background: #f8fafc;
}

.bubble-row {
  display: flex;
  margin-bottom: 10px;
}

.bubble-row--me { justify-content: flex-end; }
.bubble-row--them { justify-content: flex-start; }

.bubble {
  max-width: min(540px, 88%);
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid #e5e7eb;
  background: #fff;
  box-shadow: 0 1px 6px rgba(15, 23, 42, 0.06);
}

.bubble-row--me .bubble {
  background: #2563eb;
  border-color: #2563eb;
  color: #fff;
}

.bubble-text {
  font-size: 0.92rem;
  line-height: 1.35;
}

.bubble-time {
  margin-top: 6px;
  font-size: 0.75rem;
  opacity: 0.8;
}

.chat-footer {
  padding: 12px;
  border-top: 1px solid #eef2f6;
  display: grid;
  grid-template-columns: 1fr 110px;
  gap: 10px;
  background: #fff;
}

.chat-footnote {
  padding: 10px 12px 14px;
  background: #fff;
}

/* MOBILE helper buttons (se usar) */
.messages-mobile-back,
.messages-mobile-close {
  display: none;
}

/* =========================
   SIDEBAR (COMPONENTE) - estados
========================= */
.sidebar-top {
  display: flex;
  align-items: center;
  gap: 10px;
}

.sidebar-top .logo {
  flex: 1;
  margin-bottom: 0;
}

.nav-text {
  white-space: nowrap;
}

.sidebar-overlay {
  position: fixed;
  inset: 0;
  background: rgba(2, 6, 23, 0.45);
  z-index: 40;
}

/* Desktop: recolhida */
.sidebar.sidebar-collapsed {
  width: 64px;
  padding: 16px 8px;
}

.sidebar.sidebar-collapsed .nav-label,
.sidebar.sidebar-collapsed .nav-text {
  display: none;
}

.sidebar.sidebar-collapsed .nav-item {
  justify-content: center;
  padding: 12px;
}

.desktop-only { display: inline-flex; }

/* Mobile: drawer */
.sidebar-close-btn { display: none; }
.mobile-menu-btn { display: none; }

/* =========================
   RESPONSIVO GERAL
========================= */
@media (max-width: 1200px) {
  .dashboard-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

@media (max-width: 1100px) {
  .favorites-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 1024px) {
  .right-sidebar { display: none; }
  .search-grid { grid-template-columns: repeat(3, 1fr); }
}

@media (max-width: 900px) {
  .leads-controls { grid-template-columns: 1fr 1fr; }
  .leads-clear { grid-column: span 2; }

  .messages-page {
    grid-template-columns: 1fr;
    height: auto;
    min-height: 0;
  }

  .messages-list,
  .messages-chat {
    height: calc(100vh - 170px);
  }

  .messages-mobile-back,
  .messages-mobile-close {
    display: inline-flex;
  }

  .messages-list { display: none; }
  .messages-list--show { display: block; }
  .messages-chat--hide { display: none; }
}

@media (max-width: 768px) {
  /* Sidebar vira drawer */
  .mobile-menu-btn { display: inline-flex; }
  .desktop-only { display: none; }
  .sidebar-close-btn { display: inline-flex; }

  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100dvh;
    width: 280px;
    max-width: 85vw;
    transform: translateX(-110%);
    transition: transform 0.2s ease;
    z-index: 999;
    overflow-y: auto;
    padding-bottom: 24px;
  }

  .sidebar.sidebar-mobile-open {
    transform: translateX(0);
  }

  /* App full width no mobile */
  html, body { overflow-x: hidden; }

  .app {
    max-width: 100%;
    width: 100%;
    margin: 0;
    border-radius: 0;
    box-shadow: none;
  }

  /* Header compacto */
  .header {
    padding: 12px 14px;
    gap: 10px;
    flex-wrap: wrap;
    align-items: flex-start;
  }

  .header-stats { display: none; }

  .brand-tagline { display: none; }

  .header-actions {
    flex-wrap: wrap;
    justify-content: flex-end;
    gap: 8px;
    max-width: 100%;
  }

  .main-content {
    padding: 14px;
  }

  /* Search grid 1 coluna */
  .search-grid {
    grid-template-columns: 1fr;
    gap: 10px;
  }

  .btn-search {
    width: 100%;
    grid-column: auto;
  }

  .listings-header {
    flex-wrap: wrap;
    gap: 10px;
  }

  .btn-filter {
    width: 100%;
    margin-left: 0;
  }

  /* property card em coluna */
  .property-card { flex-direction: column; }
  .card-image { width: 100%; min-width: 100%; height: 160px; }

  .card-actions {
    flex-direction: column;
    gap: 10px;
  }

  .card-actions button { width: 100%; }

  /* Leads */
  .leads-table-wrap { display: none; }
  .leads-cards {
    display: flex;
    flex-direction: column;
  }

  /* Favorites */
  .favorites-grid { grid-template-columns: 1fr; }
  .fav-actions { grid-template-columns: 1fr; }
}

@media (max-width: 420px) {
  .dashboard-grid { grid-template-columns: 1fr; }
}
/* =========================
   THEME GLOBAL (LIGHT + DARK)
   Cole no FINAL do index.css
========================= */

/* LIGHT (padrão) */
html[data-theme="light"] {
  --bg: linear-gradient(180deg, #f4f6fb 0%, #eef2f7 100%);
  --surface: #ffffff;
  --surface-2: #f8fafc;
  --text: #0f172a;
  --text-secondary-color: #64748b;
  --border: #e2e8f0;
  --primary: #2563eb;
  --sidebarBg: var(--gradient-surface);
  --headerBg: #ffffff;
  /* Variáveis para componentes específicos */
  --card-bg: #ffffff;
  --table-header-bg: #f8f9fa;
  --input-bg: #ffffff;
  --input-text: #333333;
  --hover-bg: #f8f9fa;
  --success-color: #28a745;
  --error-color: #dc3545;
  --error-bg: #f8d7da;
  --error-text: #721c24;
  --error-border: #f5c6cb;
  --success-bg: #d4edda;
  --success-text: #155724;
  --success-border: #c3e6cb;
}

/* DARK */
html[data-theme="dark"] {
  --bg: linear-gradient(180deg, #070b14 0%, #0b1220 100%);
  --surface: #0f172a; /* Cor de fundo principal para superfícies */
  --surface-2: #1a202c; /* Cor de fundo secundária para superfícies */
  --text: #ffffff; /* Texto branco principal */
  --text-secondary-color: #e0e0e0; /* Texto branco secundário */
  --border: #2d3748; /* Bordas cinza escuro */
  --primary: #4f8cff; /* Azul primário */
  --sidebarBg: #1a202c; /* Fundo sidebar */
  --headerBg: #1a202c; /* Fundo header */
  /* Variáveis para componentes específicos */
  --card-bg: #0f172a; /* Fundo dos cards/tabelas */
  --table-header-bg: #1a202c; /* Fundo cabeçalho tabela */
  --input-bg: #1a202c; /* Fundo inputs */
  --input-text: #ffffff; /* Texto inputs */
  --hover-bg: #2d3748; /* Hover */
  --success-color: #3b82f6; /* Azul para preços */
  --error-color: #dc3545;
  --error-bg: #721c24;
  --error-text: #f8d7da;
  --error-border: #f5c6cb;
  --success-bg: #155724;
  --success-text: #d4edda;
  --success-border: #c3e6cb;
  /* Cores para as tags de status no tema escuro */
  --status-reservado-bg: #a1882a;
  --status-reservado-text: #ffffff;
  --status-disponivel-bg: #228b22;
  --status-disponivel-text: #ffffff;
  --status-vendido-bg: #be123c;
  --status-vendido-text: #ffffff;
}

/* =========================
   MEIO (MAIN) em light e dark
========================= */
html[data-theme] .main-wrapper {
  background: transparent;
}

html[data-theme] .main-content {
  background: transparent;
  color: var(--text);
}

/* =========================
   SUPERFÍCIES (cards/panels)
========================= */
html[data-theme] .panel,
html[data-theme] .search-section,
html[data-theme] .listings-section,
html[data-theme] .property-card,
html[data-theme] .featured-card,
html[data-theme] .contact-card,
html[data-theme] .messages-list,
html[data-theme] .messages-chat,
html[data-theme] .lead-card,
html[data-theme] .leads-table-wrap {
  background: var(--surface);
  border-color: var(--border);
  color: var(--text);
}

/* Sidebar / Header */
html[data-theme] .sidebar {
  background: var(--sidebarBg);
  border-right-color: var(--border);
}

html[data-theme] .header {
  background: var(--headerBg);
  border-bottom-color: var(--border);
}

/* =========================
   TEXTOS e NÚMEROS apagados (fix)
========================= */
html[data-theme] h2,
html[data-theme] .brand-title,
html[data-theme] .header-user strong,
html[data-theme] .card-content h3,
html[data-theme] .fav-title,
html[data-theme] .conv-name,
html[data-theme] .chat-title,
html[data-theme] .lead-primary,
html[data-theme] .results-pill {
  color: var(--text);
}

html[data-theme] .muted,
html[data-theme] .brand-tagline,
html[data-theme] .header-greeting,
html[data-theme] .results-count,
html[data-theme] .card-location,
html[data-theme] .card-details,
html[data-theme] .card-desc,
html[data-theme] .fav-sub,
html[data-theme] .conv-sub,
html[data-theme] .lead-secondary {
  color: var(--muted);
}

/* Pills do topo (Imóveis ativos / Novos / Mensagens) */
html[data-theme] .header-stats span {
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text);
}

/* Inputs / selects */
html[data-theme] input,
html[data-theme] select,
html[data-theme] textarea,
html[data-theme] .leads-input,
html[data-theme] .leads-select {
  background: var(--surface-2);
  border-color: var(--border);
  color: var(--text);
}

html[data-theme] input::placeholder,
html[data-theme] textarea::placeholder {
  color: color-mix(in srgb, var(--muted) 80%, transparent);
}

/* Botões outline / filtro */
html[data-theme] .btn-outline,
html[data-theme] .btn-filter {
  background: transparent;
  border-color: var(--border);
  color: var(--text);
}

html[data-theme] .btn-primary {
  background: var(--primary);
  color: #fff;
}

/* menu */
html[data-theme] .nav-item { color: var(--text); }
html[data-theme] .nav-label { color: var(--muted); }

html[data-theme] .nav-item:hover {
  background: color-mix(in srgb, var(--muted) 18%, transparent);
  border-color: var(--border);
}

html[data-theme] .nav-item.active {
  background: var(--primary);
  color: #fff;
}

/* tabela leads */
html[data-theme] .leads-table thead th {
  background: var(--surface-2);
  border-bottom-color: var(--border);
  color: var(--text);
}

html[data-theme] .leads-table tbody td {
  border-bottom-color: color-mix(in srgb, var(--border) 70%, transparent);
  color: var(--text);
}

/* chat body */
html[data-theme] .chat-body {
  background: var(--surface-2);
}

html[data-theme] .bubble {
  background: var(--surface-2);
  border-color: var(--border);
  color: var(--text);
}

html[data-theme] .bubble-row--me .bubble {
  background: var(--primary);
  border-color: var(--primary);
  color: #fff;
}

/* preço */
html[data-theme] .card-price,
html[data-theme] .fav-price {
  color: var(--primary);
}/* =========================
   FIX: Sidebar/Menu + textos apagados (Light/Dark)
   Cole no FINAL do index.css
========================= */

html[data-theme] .page,
html[data-theme] .page * {
  color: inherit;
}

/* ===== Sidebar: garante que itens não fiquem "apagados" ===== */
html[data-theme] .sidebar .nav-item {
  color: var(--text) !important;
  opacity: 1 !important;
}

html[data-theme] .sidebar .nav-item * {
  opacity: 1 !important;
}

/* Ícones (svg) sempre acompanham cor do texto */
html[data-theme] .sidebar .nav-icon,
html[data-theme] .sidebar .nav-icon svg {
  color: currentColor !important;
  fill: currentColor !important;
  stroke: currentColor !important;
  opacity: 0.95 !important;
}

/* Texto do menu (span / label) sempre visível */
html[data-theme] .sidebar .nav-label {
  color: var(--muted) !important;
  opacity: 1 !important;
}

/* Hover do menu no dark/light */
html[data-theme] .sidebar .nav-item:hover {
  background: color-mix(in srgb, var(--muted) 16%, transparent) !important;
  border-color: var(--border) !important;
}

/* Ativo */
html[data-theme] .sidebar .nav-item.active {
  background: var(--primary) !important;
  color: #fff !important;
  opacity: 1 !important;
}

/* ===== Corrige textos apagados em páginas (Favorites/Leads/etc) ===== */
html[data-theme] .favorites-header h2,
html[data-theme] .favorites-header p,
html[data-theme] .favorites-empty h3,
html[data-theme] .favorites-empty p,
html[data-theme] .fav-title,
html[data-theme] .fav-sub,
html[data-theme] .fav-id,
html[data-theme] .fav-price,
html[data-theme] .lead-primary,
html[data-theme] .lead-secondary,
html[data-theme] .conv-name,
html[data-theme] .conv-sub,
html[data-theme] .chat-title,
html[data-theme] .chat-subtitle {
  color: var(--text) !important;
}

/* Subtext/descrições */
html[data-theme] .muted,
html[data-theme] .favorites-header .muted,
html[data-theme] .fav-sub,
html[data-theme] .lead-secondary,
html[data-theme] .conv-sub,
html[data-theme] .chat-subtitle {
  color: var(--muted) !important;
}

/* Right sidebar (Meus Imóveis): corrige textos apagados */
html[data-theme] .right-sidebar,
html[data-theme] .right-sidebar * {
  color: var(--text);
}

html[data-theme] .right-sidebar .card-location,
html[data-theme] .right-sidebar p {
  color: var(--muted) !important;
}

/* Pills do topo (stats) sempre legíveis */
html[data-theme] .header-stats span {
  color: var(--text) !important;
  opacity: 1 !important;
}
/* =========================
   THEME FINAL (Light/Dark) + Fix Leads/Favorites
   Cole no FINAL do index.css
========================= */

/* LIGHT (padrão) */
:root {
  --bg: #f8fafc;
  --surface: #ffffff;
  --surface-2: #f1f5f9;
  --text: #0f172a;
  --muted: #64748b;
  --border: #e2e8f0;
  --primary: #2563eb;

  --sidebarBg: rgba(255, 255, 255, 0.88);
  --headerBg: rgba(255, 255, 255, 0.88);

  --shadow: 0 1px 10px rgba(15, 23, 42, 0.08);
}

/* DARK */
html[data-theme="dark"] {
  --bg: #0b1220;
  --surface: #0f172a;
  --surface-2: #111c33;
  --text: #e5e7eb;
  --muted: #a8b3cf;
  --border: rgba(148, 163, 184, 0.18);
  --primary: #60a5fa;

  --sidebarBg: rgba(15, 23, 42, 0.86);
  --headerBg: rgba(15, 23, 42, 0.86);

  --shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

/* ===== Aplica tema no layout inteiro (meio, sidebar, header) ===== */
body {
  background: var(--bg) !important;
  color: var(--text) !important;
}

.app {
  background: transparent !important;
}

.main-wrapper,
.main-content {
  background: var(--bg) !important;
}

/* superfícies principais no meio */
.panel,
.search-section,
.listings-section,
.property-card,
.featured-card,
.contact-card,
.fav-card,
.messages-list,
.messages-chat,
.lead-card {
  background: var(--surface) !important;
  border-color: var(--border) !important;
  box-shadow: var(--shadow) !important;
}

/* ===== Sidebar / Header usando tema ===== */
.sidebar {
  background: var(--sidebarBg) !important;
  border-right-color: var(--border) !important;
}

.header {
  background: var(--headerBg) !important;
  border-bottom-color: var(--border) !important;
}

/* textos gerais */
h1, h2, h3, strong, .brand-title {
  color: var(--text) !important;
}

.muted,
.brand-tagline,
.header-greeting,
.results-count,
.card-location,
.card-details,
.card-desc {
  color: var(--muted) !important;
}

/* preço */
.card-price,
.fav-price {
  color: var(--primary) !important;
}

/* ===== FIX: “letras apagadas” em Favorites/Leads ===== */
.favorites-header p,
.fav-title,
.fav-sub,
.fav-id,
.favorites-empty p,
.favorites-empty h3,
.lead-primary,
.lead-secondary,
.leads-empty,
.leads-table tbody td,
.leads-table thead th {
  color: var(--text) !important;
}

.fav-sub,
.lead-secondary {
  color: var(--muted) !important;
}

/* ===== Tabela Leads no Dark ===== */
.leads-table thead th {
  background: var(--surface-2) !important;
  border-bottom-color: var(--border) !important;
}

.leads-table tbody td {
  border-bottom-color: var(--border) !important;
}

/* ===== Inputs/Selects no Dark ===== */
input, select, textarea,
.leads-input, .leads-select {
  background: var(--surface-2) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

input::placeholder, textarea::placeholder {
  color: color-mix(in srgb, var(--muted) 80%, transparent) !important;
}

/* ===== Menu: não ficar apagado ===== */
.sidebar .nav-item {
  color: var(--text) !important;
  opacity: 1 !important;
}

.sidebar .nav-label {
  color: var(--muted) !important;
  opacity: 1 !important;
}

.sidebar .nav-icon,
.sidebar .nav-icon svg {
  color: currentColor !important;
  stroke: currentColor !important;
  fill: currentColor !important;
  opacity: 0.95 !important;
}

.sidebar .nav-item:hover {
  background: color-mix(in srgb, var(--muted) 14%, transparent) !important;
  border-color: var(--border) !important;
}

.sidebar .nav-item.active {
  background: var(--primary) !important;
  color: #fff !important;
}
/* =========================
   PROPERTIES / LISTA DE IMÓVEIS (Theme fix)
   Cole no FINAL do index.css
========================= */

/* containers/sections típicos da lista */
.properties-page,
.properties-header,
.properties-toolbar,
.properties-filters,
.properties-grid,
.properties-list,
.properties-panel,
.properties-card,
.property-item,
.property-tile,
.property-list-card,
.filters-card,
.filters-panel,
.filters-bar {
  color: var(--text) !important;
}

/* painéis e cards do meio (inclui filtros e cards da lista) */
.properties-panel,
.filters-card,
.filters-panel,
.filters-bar,
.properties-card,
.property-item,
.property-tile,
.property-list-card {
  background: var(--surface) !important;
  border-color: var(--border) !important;
  box-shadow: var(--shadow) !important;
}

/* inputs da busca/filtro */
.properties-panel input,
.properties-panel select,
.filters-card input,
.filters-card select,
.filters-panel input,
.filters-panel select,
.filters-bar input,
.filters-bar select {
  background: var(--surface-2) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

.properties-panel input::placeholder,
.filters-card input::placeholder,
.filters-panel input::placeholder,
.filters-bar input::placeholder {
  color: var(--muted) !important;
  opacity: 0.85;
}

/* títulos e textos do card */
.property-title,
.property-name,
.property-card h3,
.property-card h4,
.property-item h3,
.property-item h4,
.property-tile h3,
.property-tile h4 {
  color: var(--text) !important;
}

.property-subtitle,
.property-location,
.property-meta,
.property-details,
.property-desc,
.property-card p,
.property-item p,
.property-tile p {
  color: var(--muted) !important;
}

/* preço (bem legível no dark) */
.property-price,
.property-card .price,
.property-item .price,
.property-tile .price {
  color: var(--primary) !important;
  font-weight: 800;
}

/* chips/tags de tipo (Apartamento/Casa etc) */
.property-tag,
.property-type,
.badge-type,
.chip,
.pill {
  background: color-mix(in srgb, var(--surface-2) 85%, transparent) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
}

/* status (Disponível/Reservado/Vendido etc) */
.status-pill,
.status-badge,
.property-status,
.badge-status {
  border: 1px solid var(--border) !important;
  color: var(--text) !important;
}

/* ícones e linhas pequenas (evita “apagado”) */
.property-icons,
.property-icons * {
  color: var(--muted) !important;
  opacity: 1 !important;
}

/* botões outline no dark (ficam legíveis) */
.btn-outline,
button.btn-outline,
a.btn-outline {
  color: var(--primary) !important;
  border-color: color-mix(in srgb, var(--primary) 45%, var(--border)) !important;
  background: transparent !important;
}

html[data-theme="dark"] .btn-outline:hover,
html[data-theme="dark"] button.btn-outline:hover,
html[data-theme="dark"] a.btn-outline:hover {
  background: color-mix(in srgb, var(--primary) 14%, transparent) !important;
}

/* botões primários */
.btn-primary,
button.btn-primary {
  background: var(--primary) !important;
  color: #fff !important;
}

/* imagens/placeholder no dark (não “estourar” no branco) */
html[data-theme="dark"] .img-placeholder,
html[data-theme="dark"] .property-cover,
html[data-theme="dark"] .property-image,
html[data-theme="dark"] .property-hero {
  background: color-mix(in srgb, var(--surface-2) 90%, #000) !important;
  border-color: var(--border) !important;
}
/* =========================
   FIX FORTE - Cards / Lista de Imóveis (theme + legibilidade)
   Cole no FINAL do index.css
========================= */

/* 1) Qualquer "card" dentro do meio (independente do nome da classe) */
.main-content [class*="card"],
.main-content [class*="Card"],
.main-content [class*="tile"],
.main-content [class*="Tile"],
.main-content [class*="item"],
.main-content [class*="Item"],
.main-content [class*="property"],
.main-content [class*="Property"] {
  background: var(--surface) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}

/* 2) Textos dentro dos cards (remove “apagado”) */
.main-content [class*="card"] *,
.main-content [class*="Card"] *,
.main-content [class*="tile"] *,
.main-content [class*="Tile"] *,
.main-content [class*="property"] *,
.main-content [class*="Property"] * {
  color: inherit;
  opacity: 1 !important; /* isso resolve números/letras apagados */
}

/* 3) Títulos e infos dentro do card */
.main-content [class*="card"] h1,
.main-content [class*="card"] h2,
.main-content [class*="card"] h3,
.main-content [class*="card"] h4,
.main-content [class*="Card"] h1,
.main-content [class*="Card"] h2,
.main-content [class*="Card"] h3,
.main-content [class*="Card"] h4 {
  color: var(--text) !important;
}

.main-content [class*="card"] p,
.main-content [class*="card"] span,
.main-content [class*="Card"] p,
.main-content [class*="Card"] span {
  color: var(--muted) !important;
}

/* 4) Preço: sempre legível */
.main-content [class*="price"],
.main-content [class*="Price"],
.main-content [class*="valor"],
.main-content [class*="Valor"] {
  color: var(--primary) !important;
  font-weight: 800 !important;
  opacity: 1 !important;
}

/* 5) Inputs e filtros do meio */
.main-content input,
.main-content select,
.main-content textarea {
  background: var(--surface-2) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

.main-content input::placeholder,
.main-content textarea::placeholder {
  color: var(--muted) !important;
  opacity: 0.9 !important;
}

/* 6) Tags / chips (Apartamento, Casa, etc) */
.main-content [class*="tag"],
.main-content [class*="Tag"],
.main-content [class*="chip"],
.main-content [class*="Chip"],
.main-content [class*="pill"],
.main-content [class*="Pill"],
.main-content [class*="badge"],
.main-content [class*="Badge"] {
  border-color: var(--border) !important;
  opacity: 1 !important;
}

/* 7) Placeholder de imagem no DARK não ficar “branco estourado” */
html[data-theme="dark"] .main-content [class*="img"],
html[data-theme="dark"] .main-content [class*="Img"],
html[data-theme="dark"] .main-content [class*="cover"],
html[data-theme="dark"] .main-content [class*="Cover"],
html[data-theme="dark"] .main-content [class*="placeholder"] {
  background: color-mix(in srgb, var(--surface-2) 92%, #000) !important;
  border-color: var(--border) !important;
}
/* =========================
   FIX - Top cards (8/5/3) + Lateral + Legibilidade (Imóveis)
   Cole no FINAL do index.css
========================= */

/* Caixa branca grande no topo (onde ficam 8/5/3) */
.main-content [class*="stats"],
.main-content [class*="Stats"],
.main-content [class*="summary"],
.main-content [class*="Summary"],
.main-content [class*="kpi"],
.main-content [class*="Kpi"],
.main-content [class*="counter"],
.main-content [class*="Counter"] {
  background: var(--surface) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}

/* Os “quadradinhos”/cards pequenos 8/5/3 (se forem divs simples) */
.main-content [class*="stats"] > *,
.main-content [class*="Stats"] > *,
.main-content [class*="summary"] > *,
.main-content [class*="Summary"] > * {
  color: var(--text) !important;
  opacity: 1 !important;
}

/* Títulos e números dentro do topo (evita apagado) */
.main-content [class*="stats"] *,
.main-content [class*="Stats"] *,
.main-content [class*="summary"] *,
.main-content [class*="Summary"] * {
  opacity: 1 !important;
}

/* Painel de filtros (onde está “Filtros” e input) */
.main-content [class*="filter"],
.main-content [class*="Filter"],
.main-content [class*="filters"],
.main-content [class*="Filters"] {
  background: var(--surface) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}

/* Card lateral da direita (seu right sidebar já existe, mas força tema) */
.right-sidebar,
.right-sidebar * {
  color: var(--text) !important;
  opacity: 1 !important;
}

/* Cards dentro da lateral (featured/contact) */
.right-sidebar .featured-card,
.right-sidebar .contact-card {
  background: var(--surface) !important;
  border-color: var(--border) !important;
}

/* Textos da lateral que estavam apagados */
.right-sidebar p,
.right-sidebar h2,
.right-sidebar .card-location,
.right-sidebar .card-price {
  color: var(--text) !important;
  opacity: 1 !important;
}

/* Chips do topo (Imóveis ativos / Novos / Mensagens) e qualquer “pill” na página */
.main-content .meta-pill,
.main-content .results-pill,
.main-content [class*="pill"],
.main-content [class*="Pill"] {
  background: var(--surface-2) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
  opacity: 1 !important;
}

/* Ajuste fino: texto “muted” no dark ficar legível */
html[data-theme="dark"] .muted,
html[data-theme="dark"] .results-count,
html[data-theme="dark"] .card-location,
html[data-theme="dark"] .card-details,
html[data-theme="dark"] .card-desc {
  color: color-mix(in srgb, var(--text) 70%, var(--muted)) !important;
  opacity: 1 !important;
}

/* Números e labels (evita ficar cinza claro demais) */
html[data-theme="dark"] .main-content h1,
html[data-theme="dark"] .main-content h2,
html[data-theme="dark"] .main-content h3,
html[data-theme="dark"] .main-content strong,
html[data-theme="dark"] .main-content b {
  color: var(--text) !important;
  opacity: 1 !important;
}
/* =========================
   THEME FINAL (LIGHT/DARK) - COLE NO FINAL DO index.css
========================= */

/* LIGHT (padrão) */
:root,
:root[data-theme="light"] {
  --bg: #0b1220;                 /* fundo externo (pode ser azul escuro) */
  --app-bg: rgba(255, 255, 255, 0.92);

  --surface: #ffffff;            /* cards/painéis */
  --surface-2: #f8fafc;          /* superfícies leves */
  --text: #0f172a;               /* texto principal */
  --muted: #64748b;              /* texto secundário */
  --border: #e2e8f0;             /* borda */

  --primary: #2563eb;
  --primary-contrast: #ffffff;

  --sidebar-bg: rgba(255, 255, 255, 0.75);
  --header-bg: rgba(255, 255, 255, 0.85);

  --chip-bg: #f8fafc;            /* pílulas (ex stats) */
  --chip-text: #0f172a;

  --input-bg: #ffffff;
  --input-text: #0f172a;
  --input-border: #e2e8f0;

  --shadow: 0 12px 30px rgba(15, 23, 42, 0.12);
}

/* DARK */
:root[data-theme="dark"] {
  --bg: #050914;                 /* fundo externo */
  --app-bg: rgba(8, 14, 28, 0.92);

  --surface: #0b1220;            /* cards/painéis */
  --surface-2: #0a1020;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --border: rgba(148, 163, 184, 0.18);

  --primary: #4f7cff;
  --primary-contrast: #0b1220;

  --sidebar-bg: rgba(8, 14, 28, 0.86);
  --header-bg: rgba(8, 14, 28, 0.80);

  --chip-bg: rgba(148, 163, 184, 0.12);
  --chip-text: #e5e7eb;

  --input-bg: rgba(15, 23, 42, 0.55);
  --input-text: #e5e7eb;
  --input-border: rgba(148, 163, 184, 0.22);

  --shadow: 0 18px 50px rgba(0, 0, 0, 0.45);
}

/* Fundo geral + texto */
html, body {
  background: radial-gradient(circle at 20% 0%, rgba(79, 124, 255, 0.18), transparent 40%),
              radial-gradient(circle at 80% 0%, rgba(20, 184, 166, 0.12), transparent 35%),
              var(--bg) !important;
  color: var(--text) !important;
}

/* App “card” */
.app {
  background: var(--app-bg) !important;
  border-color: var(--border) !important;
  box-shadow: var(--shadow) !important;
}

/* Sidebar e Header SEMPRE seguindo tema */
.sidebar {
  background: var(--sidebar-bg) !important;
  border-right-color: var(--border) !important;
  color: var(--text) !important;
  backdrop-filter: blur(10px);
}

.header {
  background: var(--header-bg) !important;
  border-bottom-color: var(--border) !important;
  color: var(--text) !important;
  backdrop-filter: blur(10px);
}

/* Conteúdo do meio (o “miolo” das páginas) */
.main-wrapper,
.main-content,
.content-area {
  background: transparent !important;
  color: var(--text) !important;
}

/* Painéis / Cards principais (corrige favoritos/leads/imóveis/mensagens) */
.panel,
.search-section,
.listings-section,
.stat-card,
.property-card,
.fav-card,
.messages-list,
.messages-chat,
.right-sidebar,
.featured-card,
.contact-card,
.lead-card {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* Textos que estavam “apagados” */
h1, h2, h3, h4,
.brand-title,
.fav-title,
.conv-name,
.lead-primary {
  color: var(--text) !important;
}

.muted,
.brand-tagline,
.header-greeting,
.card-location,
.card-details,
.card-desc,
.results-count,
.fav-sub,
.lead-secondary,
.conv-sub {
  color: var(--muted) !important;
}

/* Pílulas (Imóveis ativos / Novos / Mensagens) */
.header-stats span,
.meta-pill,
.fav-id {
  background: var(--chip-bg) !important;
  color: var(--chip-text) !important;
  border-color: var(--border) !important;
}

/* Inputs e selects (evita texto cinza no dark) */
input,
select,
textarea,
.search-grid input,
.search-grid select,
.leads-input,
.leads-select {
  background: var(--input-bg) !important;
  color: var(--input-text) !important;
  border-color: var(--input-border) !important;
}

input::placeholder,
textarea::placeholder {
  color: color-mix(in srgb, var(--muted) 85%, transparent) !important;
}

/* Botões (resolve “Remover” apagado / branco no dark) */
.btn-primary,
button.btn-primary {
  background: var(--primary) !important;
  color: #fff !important;
  border-color: transparent !important;
}

.btn-outline,
button.btn-outline {
  background: transparent !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
}

.btn-outline:hover,
button.btn-outline:hover {
  background: color-mix(in srgb, var(--surface) 65%, transparent) !important;
}

/* Botão “Filtrar por / Mostrar filtros” */
.btn-filter {
  background: transparent !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* Links/itens do menu (sidebar) */
.nav-label { color: var(--muted) !important; }

.nav-item {
  color: var(--text) !important;
}

.nav-item:hover {
  background: color-mix(in srgb, var(--surface) 60%, transparent) !important;
  border-color: var(--border) !important;
}

.nav-item.active {
  background: var(--primary) !important;
  color: #fff !important;
}

/* Badge/Status: mantém legível */
.badge,
.status-tag,
.conv-status,
.chat-status {
  filter: saturate(1.05);
}

/* Drawer overlay (mobile) */
.sidebar-overlay {
  background: rgba(2, 6, 23, 0.55) !important;
}

/* Evita qualquer coisa estourando e “sumindo” */
* {
  -webkit-font-smoothing: antialiased;
}
/* =========================
   FIX MESSAGES (cards + footer + texto apagado)
   Cole no FINAL do index.css
========================= */

:root,
:root[data-theme="light"],
:root[data-theme="dark"] {
  /* Uma superfície extra pro chat (fica bonita no dark) */
  --surface-chat: color-mix(in srgb, var(--surface) 92%, var(--bg));
  --surface-chat-2: color-mix(in srgb, var(--surface) 85%, var(--bg));
}

/* Cards da página de mensagens (lista e chat) */
.messages-list,
.messages-chat,
.chat-shell,
.chat-header,
.chat-body,
.chat-footer,
.chat-footnote {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* O fundo do histórico (onde ficam as bolhas) */
.chat-body {
  background: var(--surface-chat) !important;
}

/* Texto pequeno “Envio é mockado...” (estava apagado) */
.chat-footnote,
.chat-footnote *,
.messages-chat .muted,
.messages-chat p,
.messages-chat span {
  color: var(--muted) !important;
  opacity: 1 !important; /* evita ficar “apagado” */
}

/* Input do chat e qualquer input dentro dos cards de mensagens */
.messages-page input,
.messages-page textarea,
.chat-footer input,
.chat-footer textarea {
  background: var(--input-bg) !important;
  color: var(--input-text) !important;
  border: 1px solid var(--input-border) !important;
}

.messages-page input::placeholder,
.messages-page textarea::placeholder {
  color: color-mix(in srgb, var(--muted) 85%, transparent) !important;
  opacity: 1 !important;
}

/* Botão enviar (garante contraste no dark) */
.chat-footer button,
.chat-footer .btn-primary {
  background: var(--primary) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* Bolhas de mensagem (garante legibilidade) */
.bubble {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

.bubble-row--me .bubble {
  background: var(--primary) !important;
  border-color: var(--primary) !important;
  color: #fff !important;
}

/* Card pequeno do lado (se for o right-sidebar ou algum painel) */
.messages-page .panel,
.messages-page .card,
.messages-page .messages-list,
.messages-page .messages-chat {
  background: var(--surface) !important;
  border-color: var(--border) !important;
  color: var(--text) !important;
}
/* =========================
   FIX SIDEBAR "SAIR" (tema + legibilidade)
   Cole no FINAL do index.css
========================= */

/* Card/área do botão sair (se for botão dentro da sidebar) */
.sidebar .nav-logout,
.sidebar .nav-item.nav-logout,
.sidebar button.nav-logout {
  width: 100%;
  background: var(--surface) !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  box-shadow: var(--shadow-sm);
  opacity: 1 !important;
}

/* Ícone e texto dentro do botão sair */
.sidebar .nav-logout,
.sidebar .nav-logout * {
  color: var(--text) !important;
  opacity: 1 !important;
}

/* Hover no tema (sem “apagar”) */
.sidebar .nav-logout:hover {
  background: color-mix(in srgb, var(--surface) 88%, var(--bg)) !important;
  border-color: color-mix(in srgb, var(--border) 70%, var(--text)) !important;
}

/* Se estiver desabilitado por acidente */
.sidebar .nav-logout:disabled,
.sidebar button.nav-logout[disabled] {
  opacity: 1 !important; /* mantém legível */
  cursor: not-allowed;
}
/* =========================
   CONTRASTE FORTE – SIDEBAR + HEADER
   Corrige texto apagado no Dark Mode
========================= */

/* Light Mode (padrão) */
:root {
  --sidebar-bg: #ffffff;
  --sidebar-text: #0f172a;
  --sidebar-muted: #475569;

  --header-bg: #ffffff;
  --header-text: #0f172a;
}

/* Dark Mode */
[data-theme="dark"] {
  --sidebar-bg: #0b1220;        /* dark real */
  --sidebar-text: #f8fafc;      /* texto branco legível */
  --sidebar-muted: #cbd5f5;     /* cinza claro (não apagado) */

  --header-bg: #0b1220;
  --header-text: #f8fafc;
}

/* Sidebar base */
.sidebar {
  background: var(--sidebar-bg) !important;
  color: var(--sidebar-text) !important;
}

/* Logo / título da sidebar */
.sidebar .logo,
.sidebar .sidebar-top,
.sidebar .sidebar-top * {
  color: var(--sidebar-text) !important;
  opacity: 1 !important;
}

/* Labels tipo "MENU PRINCIPAL" */
.sidebar .nav-label {
  color: var(--sidebar-muted) !important;
  opacity: 1 !important;
}

/* Itens do menu */
.sidebar .nav-item {
  color: var(--sidebar-text) !important;
  opacity: 1 !important;
}

/* Hover */
.sidebar .nav-item:hover {
  background: rgba(148, 163, 184, 0.15) !important;
}

/* Item ativo */
.sidebar .nav-item.active {
  background: var(--primary) !important;
  color: #ffffff !important;
}

/* Botão sair */
.sidebar .nav-logout {
  background: transparent !important;
  color: var(--sidebar-text) !important;
  border: 1px solid var(--border);
}

/* Header */
.header {
  background: var(--header-bg) !important;
  color: var(--header-text) !important;
}

/* Textos do header */
.header *,
.header-user *,
.header-brand * {
  color: var(--header-text) !important;
}

/* Remove QUALQUER opacidade indevida */
.sidebar *,
.header * {
  opacity: 1 !important;
}
/* =========================
   FIX DE SINTAXE + THEME OVERRIDES
   (Cole NO FINAL do index.css)
========================= */

/* Base do tema */
:root {
  background: var(--bg);
}

html, body {
  background: var(--bg);
  color: var(--text);
}

body {
  /* remove o “apagado” do dark por causa do gradient fixo */
  background: var(--bg) !important;
  color: var(--text) !important;
}

/* Superfícies principais (o “meio” das páginas) */
.main-wrapper,
.main-content,
.content-area {
  background: transparent;
  color: var(--text);
}

.page,
.panel,
.search-section,
.listings-section,
.messages-list,
.messages-chat,
.property-card,
.featured-card,
.contact-card,
.fav-card,
.lead-card,
.leads-table thead th,
.leads-table tbody td {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* Sidebar e header */
.sidebar {
  background: var(--sidebar-bg) !important;
  border-right-color: var(--border) !important;
}

.header {
  background: var(--header-bg) !important;
  border-bottom-color: var(--border) !important;
}

/* Logo “Imobiliária” não pode ficar apagado */
.logo,
.brand-title,
.header-user strong,
h1, h2, h3 {
  color: var(--text-2) !important;
}

/* textos “muted” sempre legíveis */
.muted,
.brand-tagline,
.header-greeting,
.nav-label,
.results-count,
.card-location,
.card-details,
.card-desc {
  color: var(--muted) !important;
}

/* Nav */
.nav-item {
  color: var(--text) !important;
}

.nav-item:hover {
  background: rgba(148, 163, 184, 0.18) !important;
}

.nav-item.active {
  background: var(--primary) !important;
  color: var(--primary-contrast) !important;
}

/* Chips do header (Imóveis ativos / Novos / Mensagens) */
.header-stats span {
  background: var(--chip-bg) !important;
  color: var(--chip-text) !important;
  border-color: var(--border) !important;
}

/* Inputs / selects (evita “apagado” no dark) */
input,
select,
textarea,
.leads-input,
.leads-select {
  background: var(--input-bg) !important;
  color: var(--input-text) !important;
  border-color: var(--border) !important;
}

input::placeholder,
textarea::placeholder {
  color: rgba(148, 163, 184, 0.9) !important;
}

/* Botões outline (Remover / Favoritar “fracos”) */
.btn-outline,
.btn-filter,
.card-actions .btn-outline,
.card-actions button {
  color: var(--primary) !important;
  border-color: color-mix(in srgb, var(--primary) 35%, var(--border)) !important;
  background: transparent !important;
}

.btn-outline:hover,
.btn-filter:hover {
  background: rgba(79, 125, 255, 0.12) !important;
}

/* Botões primary */
.btn-primary,
.btn-search,
.card-actions .btn-primary {
  background: var(--primary) !important;
  color: var(--primary-contrast) !important;
  border-color: var(--primary) !important;
}

/* Preços e números principais legíveis */
.card-price,
.fav-price,
.stat-value {
  color: var(--primary) !important;
}

/* Cards da página de imóveis / favoritos que estavam claros */
.fav-cover,
.fav-cover-placeholder,
.img-placeholder {
  filter: saturate(0.95);
}

/* Mensagens: área do chat */
.chat-body {
  background: var(--surface-2) !important;
}

.bubble {
  background: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

.bubble-row--me .bubble {
  background: var(--primary) !important;
  border-color: var(--primary) !important;
  color: var(--primary-contrast) !important;
}

/* ============ MOBILE: garantir layout ok + menu não vazar ============ */
@media (max-width: 768px) {
  html, body { overflow-x: hidden; }

  .app {
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  .header {
    padding: 12px 14px !important;
    gap: 10px !important;
    flex-wrap: wrap;
  }

  .header-stats {
    display: none !important;
  }

  .main-content {
    padding: 14px !important;
  }

  .search-grid {
    grid-template-columns: 1fr !important;
    gap: 10px !important;
  }

  .btn-search,
  .btn-filter {
    width: 100% !important;
    margin-left: 0 !important;
  }

  .property-card { flex-direction: column; }
  .card-image { width: 100% !important; min-width: 100% !important; height: 160px; }

  .card-actions {
    flex-direction: column !important;
  }

  .card-actions button {
    width: 100% !important;
  }
}
/* =========================
   FIX LEGIBILIDADE - CARDS (IMÓVEIS + FAVORITOS)
   Cole NO FINAL do index.css
========================= */

/* Textos dentro dos cards (imóveis/favoritos) sempre legíveis */
.property-card,
.fav-card {
  color: var(--text) !important;
}

/* Títulos e textos principais */
.property-card h3,
.fav-card h3,
.fav-title,
.property-card .card-content h3,
.fav-content .fav-title {
  color: var(--text-2) !important;
}

/* Textos secundários */
.property-card .card-location,
.property-card .card-details,
.property-card .card-desc,
.fav-sub,
.fav-id {
  color: var(--muted) !important;
  opacity: 1 !important; /* evita “apagado” */
}

/* Preço sempre bem visível */
.property-card .card-price,
.fav-price {
  color: var(--primary) !important;
  opacity: 1 !important;
}

/* Botões "outline" dos cards (Ver Detalhes / Remover / Favoritar) */
.property-card .card-actions .btn-outline,
.property-card .card-actions button.btn-outline,
.fav-actions .btn-outline,
.fav-actions button.btn-outline,
.property-card .card-actions button,
.fav-actions button {
  color: var(--primary) !important;
  background: transparent !important;
  border: 1px solid color-mix(in srgb, var(--primary) 35%, var(--border)) !important;
  opacity: 1 !important;
}

/* Hover mais visível no dark */
.property-card .card-actions .btn-outline:hover,
.fav-actions .btn-outline:hover {
  background: rgba(79, 125, 255, 0.14) !important;
}

/* Caso algum botão esteja vindo “branco” e apagando o texto */
.property-card .card-actions button:disabled,
.fav-actions button:disabled {
  opacity: 0.7 !important;
}

/* Se algum texto estiver vindo com cor MUITO clara por estilo próprio */
.property-card * ,
.fav-card * {
  text-shadow: none;
}

/* Ajuste específico do botão "Ver Detalhes" se ele tiver essa classe (muito comum) */
.ver-detalhes,
.btn-ver-detalhes {
  color: var(--primary) !important;
  opacity: 1 !important;
}
/* =========================
   FIX DEFINITIVO - Botão "Ver Detalhes" apagado no DARK
   (Funciona mesmo sem classe .btn-outline)
   Cole NO FINAL do index.css
========================= */

/* Detectores de tema (use o que existir no seu projeto) */
:root[data-theme="dark"],
html[data-theme="dark"],
body.dark,
body.theme-dark {
  /* 1) Card */
  .property-card {
    background: #0b1220 !important;
    border-color: rgba(148, 163, 184, 0.18) !important;
  }

  /* 2) Textos do card sempre legíveis */
  .property-card .card-content,
  .property-card .card-content h3,
  .property-card .card-location,
  .property-card .card-details,
  .property-card .card-desc {
    color: #e5e7eb !important;
  }

  /* 3) PREÇO mais forte */
  .property-card .card-price {
    color: #60a5fa !important;
  }

  /* 4) AQUI é o principal:
        Primeiro botão do card ("Ver Detalhes") = outline legível */
  .property-card .card-actions button:first-child,
  .property-card .card-actions a:first-child {
    background: transparent !important;
    color: #e5e7eb !important;
    border: 1px solid rgba(226, 232, 240, 0.35) !important;
    opacity: 1 !important;
    filter: none !important;
  }

  /* Hover do outline no dark */
  .property-card .card-actions button:first-child:hover,
  .property-card .card-actions a:first-child:hover {
    background: rgba(148, 163, 184, 0.12) !important;
    border-color: rgba(226, 232, 240, 0.55) !important;
  }

  /* 5) Segundo botão do card ("Agendar Visita") = primário */
  .property-card .card-actions button:last-child,
  .property-card .card-actions a:last-child {
    background: var(--primary) !important;
    color: #fff !important;
    border-color: var(--primary) !important;
    opacity: 1 !important;
    filter: none !important;
  }
}

/* LIGHT: garante que o primeiro botão não fique “apagado” */
:root:not([data-theme="dark"]) .property-card .card-actions button:first-child,
:root:not([data-theme="dark"]) .property-card .card-actions a:first-child,
html:not([data-theme="dark"]) .property-card .card-actions button:first-child,
html:not([data-theme="dark"]) .property-card .card-actions a:first-child {
  background: transparent !important;
  color: var(--primary) !important;
  border: 1px solid rgba(37, 99, 235, 0.35) !important;
  opacity: 1 !important;
}
/* =========================
   FUNDO GLOBAL (fora do .app) seguindo Light/Dark
   Cole no FINAL do index.css
========================= */

/* Light padrão */
:root{
  --page-bg: #f4f6fb;
  --page-bg-2: #eef2f7;
  --page-text: #0f172a;
}

/* Dark */
:root[data-theme="dark"],
html[data-theme="dark"],
body.dark,
body.theme-dark {
  --page-bg: #0b1220;
  --page-bg-2: #0f172a;
  --page-text: #e5e7eb;
}

/* Aplica no fundo da página (fora do app) */
html,
body {
  min-height: 100%;
}

body {
  color: var(--page-text);
  background: radial-gradient(circle at 20% 20%, rgba(59, 91, 219, 0.18), transparent 45%),
              radial-gradient(circle at 80% 0%, rgba(20, 184, 166, 0.14), transparent 45%),
              linear-gradient(180deg, var(--page-bg) 0%, var(--page-bg-2) 100%);
}

/* Garante que o container do app não “pinte” errado */
.app {
  background: transparent;
}
/* =========================
   FIX FUNDO EXTERNO (fora do .app)
   Cole NO FINAL do index.css
========================= */

/* Light: fundo claro */
html[data-theme="light"] body{
  background: linear-gradient(180deg, #f4f6fb 0%, #eef2f7 100%) !important;
}

/* Dark: fundo escuro */
html[data-theme="dark"] body{
  background: linear-gradient(180deg, #070b14 0%, #0b1220 100%) !important;
}
